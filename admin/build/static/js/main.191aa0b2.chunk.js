(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e){e.exports={apiPath:"/admin",defaultAvatar:"/AVATAR.png"}},206:function(e,t,a){e.exports=a(395)},211:function(e,t,a){},213:function(e,t,a){},395:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(17),c=a.n(r),l=(a(211),a(31)),o=a(18),s=a(19),m=a(21),u=a(20),d=a(22),h=(a(213),a(5)),p=a(39),g=a.n(p),b=a(28),f=a(16),v=a.n(f),E=a(15),k=function(e){var t=e.name,a=e.title,n=e.description;return function(e){return function(r){function c(e){var a;return Object(o.a)(this,c),(a=Object(m.a)(this,Object(u.a)(c).call(this,e))).toggleActive=function(e){a.props.onActiveChange(e.target.checked)},a.handleActivation=function(){a.setState({isDisabled:!0}),v.a.put(E.apiPath+"/config",Object(b.a)({},t,!a.state.isActive)).then(function(e){a.setState(function(e){return{isActive:!e.isActive,isDisabled:!1}})})},a.state={isActive:e.isActive,isDisabled:!1,snackbarState:{}},a}return Object(d.a)(c,r),Object(s.a)(c,[{key:"render",value:function(){return i.a.createElement(h.c,{style:{height:"100%"}},i.a.createElement(h.e,{action:i.a.createElement(h.y,{checked:this.state.isActive,onChange:this.handleActivation,disabled:this.state.isDisabled,color:"primary"}),title:a}),i.a.createElement(h.d,null,i.a.createElement(h.A,{component:"p"},n),i.a.createElement(e,Object.assign({},this.props,{isActive:this.state.isActive}))))}}]),c}(i.a.Component)}},S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).deleteRecipient=function(e){return function(){a.setState({isLoading:!0}),v.a.delete(E.apiPath+"/telegramBot/recipients/".concat(e)).then(function(e){var t=e.data;a.setState({isLoading:!1,recipients:t})})}},a.state={isLoading:!0},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get(E.apiPath+"/telegramBot/recipients").then(function(t){var a=t.data;e.setState({isLoading:!1,recipients:a})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.recipients,r=this.props.isActive;return a?i.a.createElement(h.g,null):i.a.createElement(h.r,null,n.map(function(t){return i.a.createElement(h.s,{key:t.id},i.a.createElement(h.t,null,i.a.createElement(h.a,{alt:"Remy Sharp",src:t.photoUrl||E.defaultAvatar})),i.a.createElement(h.v,{primary:"".concat(t.firstName," ").concat(t.lastName),secondary:t.id}),i.a.createElement(h.u,null,i.a.createElement(h.p,{disabled:!r,"aria-label":"Delete"},i.a.createElement(g.a,{onClick:e.deleteRecipient(t.id)}))))}))}}]),t}(n.Component),O=k({name:"telegramBot",title:"Telegram Bot",description:"Here you can see and edit list of telegram users which will receive messages about booking and adding new comment"})(S),j=a(64),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).deleteComment=function(e){return function(){a.setState({isLoading:!0}),v.a.delete(E.apiPath+"/comments/".concat(e)).then(function(e){var t=e.data;a.props.onenSnackbar({message:"Comment deleted"}),a.setState({isLoading:!1,comments:t})})}},a.aproveComment=function(e){return function(t){var n=t.target.checked;a.setState({isLoading:!0}),v.a.put(E.apiPath+"/comments/".concat(e,"/approve"),{approved:n}).then(function(e){var t=e.data;a.props.onenSnackbar({message:"Comment ".concat(n?"approved":"rejected")}),a.setState({isLoading:!1,comments:t})})}},a.addComment=function(){var e=a.state,t=e.author,n=e.text;a.setState({isLoading:!0}),v.a.post(E.apiPath+"/comments",{author:t,text:n}).then(function(e){var t=e.data;a.props.onenSnackbar({message:"Comment added"}),a.setState(function(e){return{isLoading:!1,author:"",text:"",comments:Object(j.a)(e.comments).concat([t])}})})},a.handleChange=function(e){return function(t){a.setState(Object(b.a)({},e,t.target.value))}},a.state={isLoading:!0,author:"",text:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get(E.apiPath+"/comments").then(function(t){var a=t.data;e.setState({isLoading:!1,comments:a})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.comments,r=t.author,c=t.text,l=this.props.isActive;return a?i.a.createElement(h.g,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(h.r,null,n.map(function(t){return i.a.createElement(h.s,{key:t._id},i.a.createElement(h.t,null,i.a.createElement(h.a,{alt:"Remy Sharp",src:E.defaultAvatar})),i.a.createElement(h.v,{primary:t.text,secondary:t.author}),i.a.createElement(h.u,null,i.a.createElement(h.f,{checked:t.approved,disabled:!l,onChange:e.aproveComment(t._id),color:"primary"}),i.a.createElement(h.p,{disabled:!l,"aria-label":"Delete"},i.a.createElement(g.a,{onClick:e.deleteComment(t._id)}))))})),i.a.createElement(h.h,null,i.a.createElement(h.j,null,i.a.createElement(h.A,null,"Add new comment")),i.a.createElement(h.i,null,i.a.createElement(h.k,{fullWidth:!0,required:!0},i.a.createElement(h.z,{label:"Name",disabled:!l,required:!0,value:r,onChange:this.handleChange("author"),margin:"dense",fullWidth:!0}),i.a.createElement(h.z,{label:"Comment",required:!0,disabled:!l,multiline:!0,rowsMax:"5",rows:"2",value:c,onChange:this.handleChange("text"),margin:"dense",fullWidth:!0}),i.a.createElement(h.b,{disabled:!r||!c,onClick:this.addComment},"Save")))))}}]),t}(n.Component),y=k({name:"comments",title:"User comments",description:"List of user comments"})(C),A=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,"Some content")}}]),t}(n.Component),L=(k({name:"email",title:"Email Notifications",description:"Email Notifications"})(A),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).deleteImage=function(e){return function(){a.setState({isLoading:!0}),v.a.delete(E.apiPath+"/images/".concat(e)).then(function(){a.props.onenSnackbar({message:"Image deleted"}),a.setState(function(t){return{isLoading:!1,images:t.images.filter(function(t){return t._id!==e})}})})}},a.addImage=function(){var e=a.state,t=e.name,n=e.url,i=e.description;a.setState({isLoading:!0}),v.a.post(E.apiPath+"/images",{name:t,url:n,description:i}).then(function(e){var t=e.data;a.props.onenSnackbar({message:"Image added"}),a.setState(function(e){return{isLoading:!1,name:"",url:"",description:"",images:Object(j.a)(e.images).concat([t])}})})},a.handleChange=function(e){return function(t){a.setState(Object(b.a)({},e,t.target.value))}},a.state={isLoading:!0,url:"",name:"",description:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get(E.apiPath+"/images").then(function(t){var a=t.data;e.setState({isLoading:!1,images:a})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.url,r=t.name,c=t.description,l=t.images,o=this.props.isActive;return a?i.a.createElement(h.g,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(h.m,{cellHeight:180},i.a.createElement(h.n,{key:"Subheader",cols:2,style:{height:"auto"}},i.a.createElement(h.w,{component:"div"},"Gallery")),l.map(function(t){return i.a.createElement(h.n,{key:t._id},i.a.createElement("img",{src:t.url,alt:t.name}),i.a.createElement(h.o,{title:t.name,subtitle:t.description,actionIcon:i.a.createElement(h.p,{disabled:!o,"aria-label":"Delete"},i.a.createElement(g.a,{onClick:e.deleteImage(t._id)}))}))})),i.a.createElement(h.h,null,i.a.createElement(h.j,null,i.a.createElement(h.A,null,"Add new image")),i.a.createElement(h.i,null,i.a.createElement(h.l,{container:!0,spacing:24},i.a.createElement(h.l,{container:!0,xs:12,lg:8},i.a.createElement(h.l,{item:!0,xs:12},i.a.createElement(h.z,{label:"Image name",value:r,onChange:this.handleChange("name"),margin:"dense",disabled:!o,fullWidth:!0}),i.a.createElement(h.z,{label:"Image link",value:n,onChange:this.handleChange("url"),margin:"dense",fullWidth:!0,disabled:!o,multiline:!0,required:!0,rowsMax:"5"}),i.a.createElement(h.z,{label:"Description",value:c,onChange:this.handleChange("description"),margin:"dense",fullWidth:!0,disabled:!o,multiline:!0,rowsMax:"5"})),i.a.createElement(h.l,{item:!0,xs:12},i.a.createElement(h.b,{fullWidth:!0,disabled:!n||!o,onClick:this.addImage},"Save"))),i.a.createElement(h.l,{style:{textAlign:"center"},item:!0,xs:!0},i.a.createElement("img",{src:n,style:{height:"150px"}}))))))}}]),t}(n.Component)),w=k({name:"images",title:"Images",description:"Upload or delete images which will be displayed in gallery"})(L),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleOpen=function(){a.setState({modalOpen:!0})},a.handleClose=function(){a.setState({modalOpen:!1})},a.state={isLoading:!0,modalOpen:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get(E.apiPath+"/config").then(function(t){var a=t.data;e.setState(Object(l.a)({isLoading:!1},a))})}},{key:"render",value:function(){return this.state.isLoading?i.a.createElement(h.q,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(h.l,{container:!0,spacing:16},i.a.createElement(h.l,{item:!0,lg:4,md:6,sm:6,xs:12},i.a.createElement(O,{isActive:this.state.telegramBot,onenSnackbar:this.props.onenSnackbar,closeSnackbar:this.props.closeSnackbar})),i.a.createElement(h.l,{item:!0,lg:4,md:6,sm:6,xs:12},i.a.createElement(y,{isActive:this.state.comments,onenSnackbar:this.props.onenSnackbar,closeSnackbar:this.props.closeSnackbar})),i.a.createElement(h.l,{item:!0,lg:8,md:6,sm:6,xs:12},i.a.createElement(w,{isActive:this.state.images,onenSnackbar:this.props.onenSnackbar,closeSnackbar:this.props.closeSnackbar}))))}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleOnenSnackbar=function(e){a.setState(function(t){return Object(l.a)({},t,{snackbarState:Object(l.a)({},t.snackbarState,e,{open:!0})})})},a.handleCloseSnackbar=function(){a.setState(function(e){return Object(l.a)({},e,{snackbarState:Object(l.a)({},e.snackbarState,{open:!1})})})},a.state={snackbarState:{}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("p",null,"Nails Admin")),i.a.createElement("main",null,i.a.createElement(x,{onenSnackbar:this.handleOnenSnackbar,closeSnackbar:this.handleCloseSnackbar})),i.a.createElement(h.x,Object.assign({anchorOrigin:{vertical:"bottom",horizontal:"center"},open:this.state.snackbarState.open,onClose:this.handleCloseSnackbar,autoHideDuration:3e3,ContentProps:{"aria-describedby":"message-id"}},this.state.snackbarState)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[206,2,1]]]);
//# sourceMappingURL=main.191aa0b2.chunk.js.map